<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lista de Vídeos</title>
  </head>
  <body>
    <h1>Lista de Vídeos</h1>
    <div id="videoContainer">
      <!-- O estilo estará limitado verticalmente 600px com overflow-x: scroll -->
      <ul id="videoList" style="max-height: 600px; overflow-y: scroll">
        <!-- A lista de vídeos será preenchida dinamicamente com JavaScript -->
      </ul>

      <video id="videoPlayer" controls>
        Seu navegador não suporta a tag de vídeo.
      </video>
    </div>
    <button id="nextEpisodeBtn">Próximo Episódio</button>
    <script>
      document.addEventListener("DOMContentLoaded", async function () {
        const videoList = document.getElementById("videoList");
        const videoPlayer = document.getElementById("videoPlayer");
        nextEpisodeBtn.addEventListener("click", () => playNextVideo());
        async function playNextVideo() {
          const currentVideo = videoPlayer.src.split("/").pop(); // Obtém o nome do arquivo do vídeo atual
          const currentIndex = videoFiles.indexOf(currentVideo);
          const nextIndex = currentIndex + 1;

          if (nextIndex < videoFiles.length) {
            const nextVideo = videoFiles[nextIndex];
            playVideo(nextVideo);
          }
        }

        const videoFiles = [
          "video1.mp4",
          "video10.mp4",
          "video100.mp4",
          "video101.mp4",
          "video102.mp4",
          "video103.mp4",
          "video104.mp4",
          "video105.mp4",
          "video106.mp4",
          "video107.mp4",
          "video108.mp4",
          "video109.mp4",
          "video11.mp4",
          "video110.mp4",
          "video111.mp4",
          "video112.mp4",
          "video113.mp4",
          "video114.mp4",
          "video115.mp4",
          "video116.mp4",
          "video117.mp4",
          "video118.mp4",
          "video119.mp4",
          "video12.mp4",
          "video120.mp4",
          "video121.mp4",
          "video122.mp4",
          "video123.mp4",
          "video124.mp4",
          "video125.mp4",
          "video126.mp4",
          "video127.mp4",
          "video128.mp4",
          "video129.mp4",
          "video13.mp4",
          "video130.mp4",
          "video131.mp4",
          "video132.mp4",
          "video133.mp4",
          "video134.mp4",
          "video135.mp4",
          "video136.mp4",
          "video137.mp4",
          "video138.mp4",
          "video139.mp4",
          "video14.mp4",
          "video140.mp4",
          "video141.mp4",
          "video142.mp4",
          "video143.mp4",
          "video144.mp4",
          "video145.mp4",
          "video146.mp4",
          "video147.mp4",
          "video148.mp4",
          "video149.mp4",
          "video15.mp4",
          "video150.mp4",
          "video151.mp4",
          "video152.mp4",
          "video153.mp4",
          "video154.mp4",
          "video155.mp4",
          "video156.mp4",
          "video157.mp4",
          "video158.mp4",
          "video159.mp4",
          "video16.mp4",
          "video160.mp4",
          "video161.mp4",
          "video162.mp4",
          "video163.mp4",
          "video164.mp4",
          "video165.mp4",
          "video166.mp4",
          "video167.mp4",
          "video168.mp4",
          "video169.mp4",
          "video17.mp4",
          "video170.mp4",
          "video171.mp4",
          "video172.mp4",
          "video173.mp4",
          "video174.mp4",
          "video175.mp4",
          "video176.mp4",
          "video177.mp4",
          "video178.mp4",
          "video179.mp4",
          "video18.mp4",
          "video180.mp4",
          "video181.mp4",
          "video182.mp4",
          "video183.mp4",
          "video184.mp4",
          "video185.mp4",
          "video186.mp4",
          "video187.mp4",
          "video188.mp4",
          "video189.mp4",
          "video19.mp4",
          "video190.mp4",
          "video191.mp4",
          "video192.mp4",
          "video193.mp4",
          "video194.mp4",
          "video195.mp4",
          "video196.mp4",
          "video197.mp4",
          "video198.mp4",
          "video199.mp4",
          "video2.mp4",
          "video20.mp4",
          "video200.mp4",
          "video201.mp4",
          "video202.mp4",
          "video203.mp4",
          "video204.mp4",
          "video205.mp4",
          "video206.mp4",
          "video207.mp4",
          "video208.mp4",
          "video209.mp4",
          "video21.mp4",
          "video210.mp4",
          "video211.mp4",
          "video212.mp4",
          "video213.mp4",
          "video214.mp4",
          "video215.mp4",
          "video216.mp4",
          "video217.mp4",
          "video218.mp4",
          "video219.mp4",
          "video22.mp4",
          "video220.mp4",
          "video221.mp4",
          "video222.mp4",
          "video223.mp4",
          "video224.mp4",
          "video225.mp4",
          "video226.mp4",
          "video227.mp4",
          "video228.mp4",
          "video229.mp4",
          "video23.mp4",
          "video230.mp4",
          "video231.mp4",
          "video232.mp4",
          "video233.mp4",
          "video234.mp4",
          "video235.mp4",
          "video236.mp4",
          "video237.mp4",
          "video238.mp4",
          "video239.mp4",
          "video24.mp4",
          "video240.mp4",
          "video241.mp4",
          "video242.mp4",
          "video243.mp4",
          "video244.mp4",
          "video245.mp4",
          "video246.mp4",
          "video247.mp4",
          "video248.mp4",
          "video249.mp4",
          "video25.mp4",
          "video250.mp4",
          "video251.mp4",
          "video252.mp4",
          "video253.mp4",
          "video254.mp4",
          "video255.mp4",
          "video256.mp4",
          "video257.mp4",
          "video258.mp4",
          "video259.mp4",
          "video26.mp4",
          "video260.mp4",
          "video261.mp4",
          "video262.mp4",
          "video263.mp4",
          "video264.mp4",
          "video265.mp4",
          "video266.mp4",
          "video267.mp4",
          "video268.mp4",
          "video269.mp4",
          "video27.mp4",
          "video270.mp4",
          "video271.mp4",
          "video272.mp4",
          "video273.mp4",
          "video274.mp4",
          "video275.mp4",
          "video276.mp4",
          "video277.mp4",
          "video278.mp4",
          "video279.mp4",
          "video28.mp4",
          "video280.mp4",
          "video281.mp4",
          "video282.mp4",
          "video283.mp4",
          "video284.mp4",
          "video285.mp4",
          "video286.mp4",
          "video287.mp4",
          "video288.mp4",
          "video289.mp4",
          "video29.mp4",
          "video290.mp4",
          "video291.mp4",
          "video292.mp4",
          "video293.mp4",
          "video294.mp4",
          "video295.mp4",
          "video296.mp4",
          "video297.mp4",
          "video298.mp4",
          "video299.mp4",
          "video3.mp4",
          "video30.mp4",
          "video300.mp4",
          "video301.mp4",
          "video302.mp4",
          "video303.mp4",
          "video304.mp4",
          "video305.mp4",
          "video306.mp4",
          "video307.mp4",
          "video308.mp4",
          "video309.mp4",
          "video31.mp4",
          "video310.mp4",
          "video311.mp4",
          "video312.mp4",
          "video313.mp4",
          "video314.mp4",
          "video315.mp4",
          "video316.mp4",
          "video317.mp4",
          "video318.mp4",
          "video319.mp4",
          "video32.mp4",
          "video320.mp4",
          "video321.mp4",
          "video322.mp4",
          "video323.mp4",
          "video324.mp4",
          "video325.mp4",
          "video326.mp4",
          "video327.mp4",
          "video328.mp4",
          "video329.mp4",
          "video33.mp4",
          "video330.mp4",
          "video331.mp4",
          "video332.mp4",
          "video333.mp4",
          "video334.mp4",
          "video335.mp4",
          "video336.mp4",
          "video337.mp4",
          "video338.mp4",
          "video339.mp4",
          "video34.mp4",
          "video340.mp4",
          "video341.mp4",
          "video342.mp4",
          "video343.mp4",
          "video344.mp4",
          "video345.mp4",
          "video346.mp4",
          "video347.mp4",
          "video348.mp4",
          "video349.mp4",
          "video35.mp4",
          "video350.mp4",
          "video351.mp4",
          "video352.mp4",
          "video353.mp4",
          "video354.mp4",
          "video355.mp4",
          "video356.mp4",
          "video357.mp4",
          "video358.mp4",
          "video359.mp4",
          "video36.mp4",
          "video360.mp4",
          "video361.mp4",
          "video362.mp4",
          "video363.mp4",
          "video364.mp4",
          "video365.mp4",
          "video366.mp4",
          "video367.mp4",
          "video368.mp4",
          "video369.mp4",
          "video37.mp4",
          "video370.mp4",
          "video371.mp4",
          "video372.mp4",
          "video373.mp4",
          "video374.mp4",
          "video375.mp4",
          "video376.mp4",
          "video377.mp4",
          "video378.mp4",
          "video38.mp4",
          "video39.mp4",
          "video4.mp4",
          "video40.mp4",
          "video41.mp4",
          "video42.mp4",
          "video43.mp4",
          "video44.mp4",
          "video45.mp4",
          "video46.mp4",
          "video47.mp4",
          "video48.mp4",
          "video49.mp4",
          "video5.mp4",
          "video50.mp4",
          "video51.mp4",
          "video52.mp4",
          "video53.mp4",
          "video54.mp4",
          "video55.mp4",
          "video56.mp4",
          "video57.mp4",
          "video58.mp4",
          "video59.mp4",
          "video6.mp4",
          "video60.mp4",
          "video61.mp4",
          "video62.mp4",
          "video63.mp4",
          "video64.mp4",
          "video65.mp4",
          "video66.mp4",
          "video67.mp4",
          "video68.mp4",
          "video69.mp4",
          "video7.mp4",
          "video70.mp4",
          "video71.mp4",
          "video72.mp4",
          "video73.mp4",
          "video74.mp4",
          "video75.mp4",
          "video76.mp4",
          "video77.mp4",
          "video78.mp4",
          "video79.mp4",
          "video8.mp4",
          "video80.mp4",
          "video81.mp4",
          "video82.mp4",
          "video83.mp4",
          "video84.mp4",
          "video85.mp4",
          "video86.mp4",
          "video87.mp4",
          "video88.mp4",
          "video89.mp4",
          "video9.mp4",
          "video90.mp4",
          "video91.mp4",
          "video92.mp4",
          "video93.mp4",
          "video94.mp4",
          "video95.mp4",
          "video96.mp4",
          "video97.mp4",
          "video98.mp4",
          "video99.mp4",
        ];

        videoFiles.forEach((videoFile, index) => {
          const listItem = document.createElement("li");
          const link = document.createElement("a");
          link.href = "#";
          link.textContent = `Episódio ${index + 1}`;
          link.addEventListener("click", () => playVideo(videoFile));
          listItem.appendChild(link);
          videoList.appendChild(listItem);
        });

        async function playVideo(videoFile) {
          const videoPath = `temp/${videoFile}`;
          videoPlayer.src = videoPath;

          const savedTime = parseFloat(localStorage.getItem(videoFile)) || 0;
          videoPlayer.currentTime = savedTime;

          window.addEventListener("beforeunload", () => {
            localStorage.setItem(videoFile, videoPlayer.currentTime.toString());
          });

          videoPlayer.addEventListener("ended", () => playNextVideo(videoFile));

          videoPlayer.play();
        }

        function playNextVideo(currentVideo) {
          const currentIndex = videoFiles.indexOf(currentVideo);
          const nextIndex = currentIndex + 1;

          if (nextIndex < videoFiles.length) {
            const nextVideo = videoFiles[nextIndex];
            playVideo(nextVideo);
          }
        }
      });
    </script>
  </body>
</html>
